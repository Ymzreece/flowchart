{
  "language": "c",
  "metadata": {
    "file_path": "stage1/test_code/Flash.c"
  },
  "functions": [
    {
      "name": "crc8_maxim_calc_flash",
      "parameters": [
        "const uint8_t *data",
        "uint8_t len"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "static uint8_t crc8_maxim_calc_flash(const uint8_t *data, uint8_t len)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 33,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 42,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "uint8_t crc = 0x00;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 34,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "loop",
          "label": "for (uint8_t i = 0; i < len; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 35,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "crc ^= data[i];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 36,
            "column": 8
          }
        },
        {
          "id": "n5",
          "kind": "loop",
          "label": "for (uint8_t j = 0; j < 8; j++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 37,
            "column": 8
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "crc = (crc & 0x01) ? (crc >> 1) ^ 0x8C : (crc >> 1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 38,
            "column": 12
          }
        },
        {
          "id": "n7",
          "kind": "return",
          "label": "return crc;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 41,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4",
          "label": "Loop body"
        },
        {
          "source": "n5",
          "target": "n6",
          "label": "Loop body"
        },
        {
          "source": "n6",
          "target": "n5",
          "label": "Iterate"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n3",
          "label": "Iterate"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n7",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n3",
          "target": "n7"
        }
      ]
    },
    {
      "name": "FLASH_SendDIYFrame_UART1",
      "parameters": [
        "(unused)) static void FLASH_SendDIYFrame_UART1(uint16_t uid",
        "uint8_t angle_idx",
        "uint8_t speed_idx",
        "uint8_t open_flag"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "__attribute__((unused)) static void FLASH_SendDIYFrame_UART1(uint16_t uid, uint8_t angle_idx, uint8_t speed_idx, uint8_t open_flag)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 45,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 55,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "uint8_t frm[7];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 46,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "frm[0] = 0xFA;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 47,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "frm[1] = 0xCE;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 48,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "frm[2] = (uint8_t)(uid & 0xFF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 49,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "frm[3] = (uint8_t)((uid >> 8) & 0xFF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 50,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "frm[4] = (uint8_t)((speed_idx & 0x0F) << 4) | (uint8_t)(angle_idx & 0x0F);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 51,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "frm[5] = open_flag & 0xFF;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 52,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "frm[6] = crc8_maxim_calc_flash(frm, 6);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 53,
            "column": 4
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "HAL_UART_Transmit_IT(&huart2, frm, sizeof(frm));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 54,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Key_Scan_SetExternalMode",
      "parameters": [
        "bool enable"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// true \u8868\u793a\u5df2\u542f\u7528\u5916\u90e8\u626b\u63cf\u7ebf\u7a0b\n\nvoid Key_Scan_SetExternalMode(bool enable)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 169,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 171,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "s_key_scan_external = enable;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 170,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n1"
        }
      ]
    },
    {
      "name": "keyevt_pop",
      "parameters": [
        "int *out"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "static inline bool keyevt_pop(int *out)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 174,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 187,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (s_key_evt_count == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 175,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 175,
            "column": 27
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "taskENTER_CRITICAL();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 176,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "conditional",
          "label": "if (s_key_evt_count == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 177,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "taskEXIT_CRITICAL();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 178,
            "column": 2
          }
        },
        {
          "id": "n7",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 179,
            "column": 2
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "int val = s_key_evt_queue[s_key_evt_tail];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 181,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "s_key_evt_tail = (uint8_t)((s_key_evt_tail + 1U) & 0x0F);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 182,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "s_key_evt_count--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 183,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "taskEXIT_CRITICAL();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 184,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "conditional",
          "label": "if (out)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 185,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "*out = val;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 185,
            "column": 10
          }
        },
        {
          "id": "n14",
          "kind": "return",
          "label": "return true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 186,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n5",
          "target": "n6",
          "label": "True"
        },
        {
          "source": "n7",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n13",
          "label": "True"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n14",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n12",
          "target": "n14"
        }
      ]
    },
    {
      "name": "KeyEvent_Push",
      "parameters": [
        "int code"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "void KeyEvent_Push(int code)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 190,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 205,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (code == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 191,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 191,
            "column": 16
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "taskENTER_CRITICAL();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 192,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "conditional",
          "label": "if (s_key_evt_count < (uint8_t)(sizeof(s_key_evt_queue)/sizeof(s_key_evt_queue[0])))",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 193,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "s_key_evt_queue[s_key_evt_head] = code;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 194,
            "column": 2
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "s_key_evt_head = (uint8_t)((s_key_evt_head + 1U) & 0x0F);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 195,
            "column": 2
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "s_key_evt_count++;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 196,
            "column": 2
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "s_key_evt_tail = (uint8_t)((s_key_evt_tail + 1U) & 0x0F);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 199,
            "column": 2
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "s_key_evt_queue[s_key_evt_head] = code;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 200,
            "column": 2
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "s_key_evt_head = (uint8_t)((s_key_evt_head + 1U) & 0x0F);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 201,
            "column": 2
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "taskEXIT_CRITICAL();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 204,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n5",
          "target": "n6",
          "label": "True"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n5",
          "target": "n9",
          "label": "False"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n8",
          "target": "n12"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Key_GetEvent",
      "parameters": [
        ")\nint Key_GetEvent(void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u83dc\u5355\u6d88\u8d39\u63a5\u53e3\uff1a\u4f18\u5148\u6d88\u8d39\u961f\u5217\u4e8b\u4ef6\uff1b\u5426\u5219\u6839\u636e\u5916\u90e8\u626b\u63cf\u6a21\u5f0f\u51b3\u5b9a\u662f\u5426\u56de\u9000\u8c03\u7528 Get_key_Num()\nint Key_GetEvent(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 209,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 217,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "int ev = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 210,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "conditional",
          "label": "if (keyevt_pop(&ev))",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 211,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "return ev;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 211,
            "column": 22
          }
        },
        {
          "id": "n5",
          "kind": "conditional",
          "label": "if (!s_key_scan_external)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 212,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "return",
          "label": "return Get_key_Num();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 214,
            "column": 2
          }
        },
        {
          "id": "n7",
          "kind": "return",
          "label": "return 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 216,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4",
          "label": "True"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n6",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n5",
          "target": "n6",
          "label": "True"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n3",
          "target": "n5"
        },
        {
          "source": "n7",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n5",
          "target": "n7"
        }
      ]
    },
    {
      "name": "Flash_ShowBlockingProgress",
      "parameters": [
        "void *argument) {\n//     Key_Scan_SetExternalMode(true);\n//     for(;;) {\n//         int e = Get_key_Num();\n//         if (e) KeyEvent_Push(e);\n//         osDelay(1); // \u9ad8\u9891\u626b\u63cf\n//     }\n// }\n\n// \u963b\u585e\u5f0f\u5c45\u4e2d\u8fdb\u5ea6\u6761\uff08\u4f7f\u7528 HAL_GetTick \u8ba1\u65f6\uff1b\u5faa\u73af\u5185 osDelay \u8ba9\u51fa CPU\uff09\nstatic void Flash_ShowBlockingProgress(uint32_t duration_ms"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u53ef\u9009\uff1a\u63d0\u4f9b\u4e00\u4e2a\u626b\u63cf\u4efb\u52a1\u6a21\u677f\uff0c\u65b9\u4fbf\u653e\u5230\u72ec\u7acb\u7ebf\u7a0b\u4e2d\u4f7f\u7528\n// \u7528\u6cd5\uff1a\u5728\u7ebf\u7a0b\u5165\u53e3\u8fd0\u884c\u6b64\u51fd\u6570\u6216\u590d\u5236\u4ee3\u7801\uff1a\n// void Key_ScanTask(void *argument) {\n//     Key_Scan_SetExternalMode(true);\n//     for(;;) {\n//         int e = Get_key_Num();\n//         if (e) KeyEvent_Push(e);\n//         osDelay(1); // \u9ad8\u9891\u626b\u63cf\n//     }\n// }\n\n// \u963b\u585e\u5f0f\u5c45\u4e2d\u8fdb\u5ea6\u6761\uff08\u4f7f\u7528 HAL_GetTick \u8ba1\u65f6\uff1b\u5faa\u73af\u5185 osDelay \u8ba9\u51fa CPU\uff09\nstatic void Flash_ShowBlockingProgress(uint32_t duration_ms)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 232,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 266,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "const int16_t bar_width = 108;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 234,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "const int16_t bar_height = PROGRESS_BAR_HEIGHT;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 235,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "const int16_t x = (int16_t)((OLED_WIDTH - bar_width) / 2);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 236,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "const int16_t y = (int16_t)((OLED_HEIGHT - bar_height) / 2);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 237,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 240,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(y - 14, \"Calibrating...\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 241,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 242,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "uint32_t start = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 244,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "uint32_t now = start;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 245,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "uint32_t last_draw = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 246,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "loop",
          "label": "while ((now - start) < duration_ms)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 248,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "now = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 249,
            "column": 2
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "uint32_t elapsed = now - start;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 250,
            "column": 2
          }
        },
        {
          "id": "n15",
          "kind": "conditional",
          "label": "if (elapsed > duration_ms)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 251,
            "column": 2
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "elapsed = duration_ms;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 251,
            "column": 29
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "uint8_t progress = (uint8_t)((elapsed * 100U) / (duration_ms ? duration_ms : 1U));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 253,
            "column": 2
          }
        },
        {
          "id": "n18",
          "kind": "conditional",
          "label": "if ((now - last_draw) >= 20U || progress >= 100U)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 256,
            "column": 2
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "OLED_ClearArea(x - 2, y - 2, bar_width + 4, bar_height + 4);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 258,
            "column": 3
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "OLED_ShowProgressBar(x, y, bar_width, progress, PROGRESS_SPEED_FAST);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 259,
            "column": 3
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 260,
            "column": 3
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "last_draw = now;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 261,
            "column": 3
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "osDelay(5);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 264,
            "column": 2
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n13",
          "label": "Loop body"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n15",
          "target": "n16",
          "label": "True"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n15",
          "target": "n17"
        },
        {
          "source": "n18",
          "target": "n19",
          "label": "True"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n18",
          "target": "n23"
        },
        {
          "source": "n23",
          "target": "n12",
          "label": "Iterate"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Get_key_Num",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u6539\u8fdb\u7684\u6309\u952e\u9632\u6296\u51fd\u6570 - \u975e\u963b\u585e\u5f0f\uff0c\u652f\u6301\u957f\u6309\u68c0\u6d4b\n// \u8fd4\u56de\u503c\uff1a1-3\u8868\u793a\u77ed\u6309\u6309\u952e1-3\uff0c11-13\u8868\u793a\u957f\u6309\u6309\u952e1-3\uff0c0\u8868\u793a\u65e0\u6309\u952e\nint Get_key_Num(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 321,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 412,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "Battery_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 323,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "info = Battery_GetInfo();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 324,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "OLED_Battery_SetLevel(info.percentage);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 325,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "HC15_SendMessage(\"AA0055\");",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 327,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "static uint32_t last_scan_tick = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 328,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "uint32_t now = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 329,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "conditional",
          "label": "if ((now - last_scan_tick) < KEY_SCAN_INTERVAL_MS)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 331,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "return",
          "label": "return 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 332,
            "column": 2
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "last_scan_tick = now;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 334,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "uint8_t raw[3] = {\n\t\t(HAL_GPIO_ReadPin(PIN1_GPIO_Port, PIN1_Pin) == GPIO_PIN_RESET) ? 1 : 0,\n\t\t(HAL_GPIO_ReadPin(PIN2_GPIO_Port, PIN2_Pin) == GPIO_PIN_RESET) ? 1 : 0,\n\t\t(HAL_GPIO_ReadPin(PIN3_GPIO_Port, PIN3_Pin) == GPIO_PIN_RESET) ? 1 : 0\n\t};",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 337,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "loop",
          "label": "for (int i = 0; i < 3; ++i)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 344,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "btn_fsm_t *f = &btn_fsm[i];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 345,
            "column": 2
          }
        },
        {
          "id": "n14",
          "kind": "return",
          "label": "return 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 411,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n9",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "True"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n13",
          "label": "Loop body"
        },
        {
          "source": "n13",
          "target": "n12",
          "label": "Iterate"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n14",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n12",
          "target": "n14"
        }
      ]
    },
    {
      "name": "menu1",
      "parameters": [
        "1/2/3)\n\t- \u957f\u6309\uff1a\u6309\u4e0b\u7a33\u5b9a\u540e\u7d2f\u8ba1\u65f6\u95f4 >= KEY_LONG_PRESS_TIME_MS \u5373\u523b\u8fd4\u56de (11/12/13)\uff0c\u91ca\u653e\u4e0d\u518d\u8fd4\u56de\u77ed\u6309\u3002\n\t- \u6781\u77ed\u8109\u51b2\uff1a\u82e5\u6309\u4e0b\u8109\u51b2\u4e0d\u8db3\u4ee5\u8fdb\u5165\u7a33\u5b9a\u6309\u4e0b\u9636\u6bb5\uff08< \u53bb\u6296\u65f6\u95f4\uff09\u4e0d\u4f1a\u4ea7\u751f\u4e8b\u4ef6\u3002\n3. \u5feb\u901f\u8fde\u51fb\uff1a\u4e24\u6b21\u77ed\u6309\u4e4b\u95f4\u5fc5\u987b\u5728\u91ca\u653e\u540e\u518d\u6b21\u8fdb\u5165\u7a33\u5b9a\u6309\u4e0b\u9636\u6bb5\uff0c\u6700\u77ed\u8282\u62cd \u2248 KEY_DEBOUNCE_TIME_MS * 2 + \u4eba\u624b\u52a8\u4f5c\u65f6\u95f4\u3002\n4. \u82e5\u9700\u201c\u957f\u6309\u91cd\u590d\u52a0\u901f\u201d\u529f\u80fd\uff0c\u53ef\u5728 LONG_REPORTED \u9636\u6bb5\u52a0\u95f4\u9694\u5b9a\u65f6\u8fd4\u56de\u91cd\u590d\u7801\u3002\n=================================================== */\n\n// \u4e00\u7ea7\u83dc\u5355 - \u56fe\u6807\u5f0f\u4e3b\u83dc\u5355\u754c\u9762\nint menu1(void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/* ================= \u4f7f\u7528\u4e0e\u8c03\u8bd5\u8bf4\u660e =================\n1. \u53c2\u6570\u8c03\u4f18\u5efa\u8bae\uff1a\n\t- \u5982\u679c\u4ecd\u5076\u53d1\u77ed\u6309\u4e22\u5931\uff0c\u53ef\u5c06 KEY_DEBOUNCE_TIME_MS \u4ece 15 \u964d\u5230 12\uff0c\u4f46\u4e0d\u8981\u4f4e\u4e8e 8\uff0c\u5426\u5219\u6297\u6296\u80fd\u529b\u4e0b\u964d\u3002\n\t- \u5982\u679c\u611f\u89c9\u957f\u6309\u89e6\u53d1\u6162\uff0c\u53ef\u628a KEY_LONG_PRESS_TIME_MS \u8bbe\u4e3a 1200\u3002\n2. \u4e8b\u4ef6\u89e6\u53d1\u903b\u8f91\uff1a\n\t- \u77ed\u6309\uff1a\u6309\u4e0b\u7a33\u5b9a -> \u672a\u8fbe\u5230\u957f\u6309\u65f6\u95f4\u524d\u91ca\u653e\u7a33\u5b9a -> \u8fd4\u56de (1/2/3)\n\t- \u957f\u6309\uff1a\u6309\u4e0b\u7a33\u5b9a\u540e\u7d2f\u8ba1\u65f6\u95f4 >= KEY_LONG_PRESS_TIME_MS \u5373\u523b\u8fd4\u56de (11/12/13)\uff0c\u91ca\u653e\u4e0d\u518d\u8fd4\u56de\u77ed\u6309\u3002\n\t- \u6781\u77ed\u8109\u51b2\uff1a\u82e5\u6309\u4e0b\u8109\u51b2\u4e0d\u8db3\u4ee5\u8fdb\u5165\u7a33\u5b9a\u6309\u4e0b\u9636\u6bb5\uff08< \u53bb\u6296\u65f6\u95f4\uff09\u4e0d\u4f1a\u4ea7\u751f\u4e8b\u4ef6\u3002\n3. \u5feb\u901f\u8fde\u51fb\uff1a\u4e24\u6b21\u77ed\u6309\u4e4b\u95f4\u5fc5\u987b\u5728\u91ca\u653e\u540e\u518d\u6b21\u8fdb\u5165\u7a33\u5b9a\u6309\u4e0b\u9636\u6bb5\uff0c\u6700\u77ed\u8282\u62cd \u2248 KEY_DEBOUNCE_TIME_MS * 2 + \u4eba\u624b\u52a8\u4f5c\u65f6\u95f4\u3002\n4. \u82e5\u9700\u201c\u957f\u6309\u91cd\u590d\u52a0\u901f\u201d\u529f\u80fd\uff0c\u53ef\u5728 LONG_REPORTED \u9636\u6bb5\u52a0\u95f4\u9694\u5b9a\u65f6\u8fd4\u56de\u91cd\u590d\u7801\u3002\n=================================================== */\n\n// \u4e00\u7ea7\u83dc\u5355 - \u56fe\u6807\u5f0f\u4e3b\u83dc\u5355\u754c\u9762\nint menu1(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 428,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 509,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "static uint8_t last_flag = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 429,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "static bool first_draw = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 430,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "flag = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 433,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "OLED_InitIconMenuCursor();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 436,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "last_flag = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 439,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "first_draw = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 440,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "loop",
          "label": "while(1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 442,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "conditional",
          "label": "if (system_state == Do_not_disturb)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 445,
            "column": 2
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 447,
            "column": 3
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 448,
            "column": 3
          }
        },
        {
          "id": "n12",
          "kind": "return",
          "label": "return 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 449,
            "column": 3
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "key_num = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 452,
            "column": 1
          }
        },
        {
          "id": "n14",
          "kind": "conditional",
          "label": "if (key_num == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 454,
            "column": 2
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "flag--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 456,
            "column": 3
          }
        },
        {
          "id": "n16",
          "kind": "conditional",
          "label": "if (flag == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 457,
            "column": 3
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "flag = 3;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 459,
            "column": 4
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "if(key_num == 2 )\n\t\t{\n\t\t\tOLED_Clear();\n\t\t\tOLED_Update();\n\t\t\treturn flag;\n\t\t}\n\t\t// \u6309\u952e3\uff1a\u5411\u53f3\u9009\u62e9\n\t\telse if(key_num == 3 )\n\t\t{\n\t\t\tflag++;\n\t\t\tif(flag > 3 )\n\t\t\t{\n\t\t\t\t flag = 1;\n\t\t\t}\n\t\t}\n\t\t// \u957f\u6309\u6309\u952e3\uff1a\u8fdb\u5165\u9759\u9ed8\u52ff\u6270\u6a21\u5f0f\n\t\telse if(key_num == 13)\n\t\t{\n\t\t\tsilent_do_not_disturb = true;  // \u8bbe\u7f6e\u9759\u9ed8\u52ff\u6270\u6a21\u5f0f\u6807\u5fd7\n\t\t\tsystem_state = Do_not_disturb;  // \u8bbe\u7f6e\u7cfb\u7edf\u72b6\u6001\u4e3a\u52ff\u6270\u6a21\u5f0f\n\t\t\tOLED_Clear();\n\t\t\tOLED_Update();\n\t\t\treturn 0;  // \u9000\u51fa\u83dc\u5355\n\t\t}\n\t\telse if(key_num == 12)\n\t\t{\n\t\t\thandle_Reset_menu();\n\t\t}\n\n\t\t// \u7ed8\u5236\u56fe\u6807\u83dc\u5355\u754c\u9762\n\t\tbool force_redraw = (flag != last_flag) || first_draw;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 463,
            "column": 7
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "OLED_DrawIconMenu(flag - 1, force_redraw);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 496,
            "column": 1
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "OLED_DrawBatteryIconTopRight();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 498,
            "column": 1
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "OLED_BatteryLowNotifier_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 499,
            "column": 1
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 502,
            "column": 2
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "last_flag = flag;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 504,
            "column": 2
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "first_draw = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 505,
            "column": 2
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "osDelay(5);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 507,
            "column": 2
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "True"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "Loop body"
        },
        {
          "source": "n9",
          "target": "n13"
        },
        {
          "source": "n14",
          "target": "n15",
          "label": "True"
        },
        {
          "source": "n16",
          "target": "n17",
          "label": "True"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n14",
          "target": "n18",
          "label": "False"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n17",
          "target": "n19"
        },
        {
          "source": "n16",
          "target": "n19"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n23",
          "target": "n24"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n25",
          "target": "n8",
          "label": "Iterate"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n1"
        }
      ]
    },
    {
      "name": "menu2_delete",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u4e8c\u7ea7\u83dc\u5355 - \u5220\u9664\u9009\u9879\nint menu2_delete(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 513,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 571,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 514,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 515,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "OLED_Display();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 516,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "loop",
          "label": "while(1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 518,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "key_num = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 520,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "conditional",
          "label": "if (key_num == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 522,
            "column": 2
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "flag_change--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 524,
            "column": 3
          }
        },
        {
          "id": "n9",
          "kind": "conditional",
          "label": "if (flag_change == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 525,
            "column": 3
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "flag_change = 2;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 527,
            "column": 5
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 529,
            "column": 3
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "OLED_Display();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 530,
            "column": 3
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "if(key_num == 2 )\n\t\t{\n\t\t\tOLED_Clear();\n\t\t\tOLED_Display();\n\t\t\treturn flag_change;\n\t\t}\n\t\t// \u6309\u952e3\uff1a\u5411\u4e0b\u9009\u62e9\n\t\telse if(key_num == 3 )\n\t\t{\n\t\t\tflag_change++;\n\t\t\tif(flag_change > 2 )\n\t\t\t{\n\t\t\t\t flag_change = 1;\n\t\t\t}\n\t\t\tOLED_Clear();\n\t\t\tOLED_Display();\n\t\t}\n\t\t\n\t\t// \u663e\u793a\u5220\u9664\u9009\u9879\n\t\tswitch( flag_change )\n\t\t{\n\t\t\tcase 1: // \u91cd\u7f6e\u6240\u6709\n\t\t\t{\n\t\t\t\tOLED_ShowStringCentered(0, \"reset all\", OLED_6X8_HALF);\n\t\t\t\tOLED_ShowStringCentered(16, \"reset single\", OLED_6X8_HALF);\n\t\t\t\tOLED_ShowStringCentered(0, \"<-\", OLED_6X8_HALF);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 2: // \u91cd\u7f6e\u5355\u4e2a\n\t\t\t{\n\t\t\t\tOLED_ShowStringCentered(0, \"reset all\", OLED_6X8_HALF);\n\t\t\t\tOLED_ShowStringCentered(16, \"reset single\", OLED_6X8_HALF);\n\t\t\t\tOLED_ShowStringCentered(16, \"<-\", OLED_6X8_HALF);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tosDelay(5);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 533,
            "column": 7
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n5",
          "target": "n6",
          "label": "Loop body"
        },
        {
          "source": "n7",
          "target": "n8",
          "label": "True"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "True"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n9",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n7",
          "target": "n13",
          "label": "False"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n12",
          "target": "n5",
          "label": "Iterate"
        },
        {
          "source": "n13",
          "target": "n5",
          "label": "Iterate"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n1"
        }
      ]
    },
    {
      "name": "menu2_delete_with_return",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u5e26\u8fd4\u56de\u529f\u80fd\u7684\u83dc\u5355\u51fd\u6570 - \u8fd4\u56de0\u8868\u793a\u8fd4\u56de\u4e0a\u4e00\u7ea7\nint menu2_delete_with_return(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 575,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 648,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "static uint8_t last_flag_change = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 576,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 578,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "last_flag_change = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 579,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 583,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(16, \"Reset All\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 585,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(28, \"Reset Single\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 586,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(40, \"Back\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 587,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "OLED_HighlightMenuLine(flag_change - 1, true);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 590,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "OLED_DrawBatteryIconTopRight();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 592,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_BatteryLowNotifier_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 593,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "OLED_Display();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 595,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "last_flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 596,
            "column": 1
          }
        },
        {
          "id": "n14",
          "kind": "loop",
          "label": "while(1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 598,
            "column": 1
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "key_num = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 600,
            "column": 1
          }
        },
        {
          "id": "n16",
          "kind": "conditional",
          "label": "if (key_num == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 601,
            "column": 2
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "flag_change--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 603,
            "column": 3
          }
        },
        {
          "id": "n18",
          "kind": "conditional",
          "label": "if (flag_change == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 604,
            "column": 3
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "flag_change = 3;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 606,
            "column": 5
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "if(key_num == 2 )\n\t\t{\n\t\t\tOLED_Clear();\n\t\t\tOLED_Display();\n\t\t\tif(flag_change == 3) {\n\t\t\t\treturn 0; // \u8fd4\u56de\u4e0a\u4e00\u7ea7\n\t\t\t}\n\t\t\treturn flag_change;\n\t\t}\n\t\telse if(key_num == 3 )\n\t\t{\n\t\t\tflag_change++;\n\t\t\tif(flag_change > 3 )\n\t\t\t{\n\t\t\t\t flag_change = 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// \u53ea\u6709\u5f53\u9009\u62e9\u53d1\u751f\u53d8\u5316\u65f6\u624d\u5237\u65b0\u663e\u793a\n\t\tif (flag_change != last_flag_change) {\n\t\t\t// \u663e\u793a\u83dc\u5355\u9879\uff08\u589e\u5f3a\u7248\u672c\uff0c\u4fdd\u6301\u539f\u6709\u903b\u8f91\uff09\n\t\t\tOLED_Clear();\n\t\t\t\n\t\t\tOLED_ShowStringCentered(16, \"Reset All\", OLED_6X8_HALF);\n\t\t\tOLED_ShowStringCentered(28, \"Reset Single\", OLED_6X8_HALF);\n\t\t\tOLED_ShowStringCentered(40, \"Back\", OLED_6X8_HALF);\n\t\t\t\n\t\t\t// \u9ad8\u4eae\u5f53\u524d\u9009\u4e2d\u7684\u884c\n\t\t\tOLED_HighlightMenuLine(flag_change - 1, true);\n\t\t\t// \u53e0\u52a0\u53f3\u4e0a\u89d2\u7535\u91cf\u4e0e\u4f4e\u7535\u63d0\u793a\n\t\t\tOLED_DrawBatteryIconTopRight();\n\t\t\tOLED_BatteryLowNotifier_Update();\n\t\t\t\n\t\t\tOLED_Display();\n\t\t\tlast_flag_change = flag_change;  // \u66f4\u65b0\u8bb0\u5f55\n\t\t}\n\t\t\n\t\tosDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 609,
            "column": 7
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n14",
          "target": "n15",
          "label": "Loop body"
        },
        {
          "source": "n16",
          "target": "n17",
          "label": "True"
        },
        {
          "source": "n18",
          "target": "n19",
          "label": "True"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n16",
          "target": "n20",
          "label": "False"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n19",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n18",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n20",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n14",
          "target": "n1"
        }
      ]
    },
    {
      "name": "menu3_angle_speed",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u65b0\u589e\uff1a\u89d2\u5ea6\u901f\u5ea6\u9009\u62e9\u83dc\u5355\nint menu3_angle_speed(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 652,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 754,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "static uint8_t last_flag_change = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 653,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 655,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "debug_change_state = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 656,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "debug_config_changed = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 658,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 660,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "OLED_Display();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 661,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "key_num = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 663,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "loop",
          "label": "while(1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 665,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "key_num = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 667,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "conditional",
          "label": "if (key_num == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 668,
            "column": 2
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "flag_change--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 670,
            "column": 3
          }
        },
        {
          "id": "n13",
          "kind": "conditional",
          "label": "if (flag_change == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 671,
            "column": 3
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "flag_change = 5;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 673,
            "column": 4
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "if(key_num == 2 )\n\t\t{\n\t\t\tif(flag_change == 1) {\n\t\t\t\t// \u9009\u62e9\u89d2\u5ea6\n\t\t\t\tdebug_temp_angle = (debug_temp_angle % 3) + 1;\n\t\t\t\tdebug_config_changed = true;\n\t\t\t}\n\t\t\telse if(flag_change == 2) {\n\t\t\t\t// \u9009\u62e9\u901f\u5ea6\n\t\t\t\tdebug_temp_speed = (debug_temp_speed % 3) + 1;\n\t\t\t\tdebug_config_changed = true;\n\t\t\t}\n\t\t\telse if(flag_change == 3) {\n\t\t\t\t// \u9009\u62e9\u5f00\u6216\u5173\n\t\t\t\tdebug_open_or_not_flag = (debug_open_or_not_flag % 2) + 1;\n\t\t\t\tdebug_config_changed = true;\n\t\t\t}\n\t\t\telse if(flag_change == 4) {\n\t\t\t\t// \u4fdd\u5b58\u914d\u7f6e\n\t\t\t\tdebug_change_state = 2;\n\t\t\t\treturn 1;  // \u4fdd\u5b58\n\t\t\t}\n\t\t\telse if(flag_change == 5) {\n\t\t\t\t// \u9000\u51fa\u4e0d\u4fdd\u5b58\n\t\t\t\treturn 0;  // \u9000\u51fa\n\t\t\t}\n\t\t}\n\t\telse if(key_num == 3 )\n\t\t{\n\t\t\tflag_change++;\n\t\t\tif(flag_change > 5 )\n\t\t\t{\n\t\t\t\t flag_change = 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// \u53ea\u6709\u5f53\u9009\u62e9\u53d1\u751f\u53d8\u5316\u65f6\u624d\u5237\u65b0\u663e\u793a\n\t\tif (flag_change != last_flag_change || debug_config_changed) {\n\t\t\t// \u663e\u793a\u914d\u7f6e\u754c\u9762\uff08\u4fdd\u6301\u539f\u6709\u903b\u8f91\uff0c\u6dfb\u52a0\u89c6\u89c9\u589e\u5f3a\uff09\n\t\t\tOLED_Clear();\n\t\t\t\n\t\t\t// \u663e\u793a\u914d\u7f6e\u9879\n\t\t\tchar config_display[50];\n\t\t\t\n\t\t\t// \u89d2\u5ea6\u914d\u7f6e (\u4e09\u6321: \u5c0f/\u4e2d/\u5927)\n\t\t\tconst char* angle_names[] = {\"Small\", \"Medium\", \"Large\"};\n\t\t\tsprintf(config_display, \"Angle: %s\", angle_names[debug_temp_angle - 1]);\n\t\t\tOLED_ShowStringCentered(16, config_display, OLED_6X8_HALF);\n\t\t\t\n\t\t\t// \u901f\u5ea6\u914d\u7f6e  \n\t\t\tconst char* speed_names[] = {\"Slow\", \"Moderate\", \"Fast\"};\n\t\t\tsprintf(config_display, \"Speed: %s\", speed_names[debug_temp_speed - 1]);\n\t\t\tOLED_ShowStringCentered(28, config_display, OLED_6X8_HALF);\n\t\t\t\n\t\t\t// \u5f00\u5173\u914d\u7f6e\n\t\t\tsprintf(config_display, \"Auto Close: %s\", (debug_open_or_not_flag == 1) ? \"Yes\" : \"No\");\n\t\t\tOLED_ShowStringCentered(40, config_display, OLED_6X8_HALF);\n\t\t\t\n\t\t\t// \u64cd\u4f5c\u9009\u9879\n\t\t\tif (flag_change == 4) {\n\t\t\t\tOLED_ShowStringCentered(52, \"Save\", OLED_6X8_HALF);\n\t\t\t} else if (flag_change == 5) {\n\t\t\t\tOLED_ShowStringCentered(52, \"Exit\", OLED_6X8_HALF);\n\t\t\t}\n\t\t\t\n\t\t\t// \u9ad8\u4eae\u5f53\u524d\u9009\u62e9\u9879\n\t\t\tOLED_HighlightMenuLine(flag_change - 1, true);\n\t\t\t// \u53e0\u52a0\u53f3\u4e0a\u89d2\u7535\u91cf\u4e0e\u4f4e\u7535\u63d0\u793a\n\t\t\tOLED_DrawBatteryIconTopRight();\n\t\t\tOLED_BatteryLowNotifier_Update();\n\t\t\t\n\t\t\tOLED_Display();\n\t\t\tlast_flag_change = flag_change;  // \u66f4\u65b0\u8bb0\u5f55\n\t\t\tdebug_config_changed = false;    // \u91cd\u7f6e\u914d\u7f6e\u53d8\u5316\u6807\u5fd7\n\t\t}\n\t\t\n\t\tosDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 676,
            "column": 7
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "Loop body"
        },
        {
          "source": "n11",
          "target": "n12",
          "label": "True"
        },
        {
          "source": "n13",
          "target": "n14",
          "label": "True"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n11",
          "target": "n15",
          "label": "False"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n14",
          "target": "n9",
          "label": "Iterate"
        },
        {
          "source": "n13",
          "target": "n9",
          "label": "Iterate"
        },
        {
          "source": "n15",
          "target": "n9",
          "label": "Iterate"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n1"
        }
      ]
    },
    {
      "name": "handle_Reset_menu",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u9690\u85cf\u83dc\u5355\uff1a\u95e8\u6700\u5927\u5f00\u5ea6\u6821\u51c6\nvoid handle_Reset_menu(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 757,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 820,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "HC15_SendMessage(\"AARE55\");",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 759,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 761,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "OLED_DrawRectangle(2, 2, 124, 60, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 764,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "OLED_DrawRectangle(3, 3, 122, 58, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 765,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(8, \"Door Calibration\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 768,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "OLED_DrawLine(8, 18, 120, 18);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 771,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(24, \"Please open door\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 774,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(34, \"to maximum angle\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 775,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(48, \"Press KEY to confirm\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 778,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 780,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "loop",
          "label": "while (1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 783,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "int key = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 784,
            "column": 1
          }
        },
        {
          "id": "n14",
          "kind": "conditional",
          "label": "if (key != 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 785,
            "column": 2
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 786,
            "column": 3
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "osDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 788,
            "column": 2
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "HC15_SendMessage(\"AA0055\");",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 792,
            "column": 1
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "Flash_ShowBlockingProgress(10000U);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 795,
            "column": 1
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 798,
            "column": 1
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "OLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 801,
            "column": 1
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "OLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 802,
            "column": 1
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "OLED_DrawLine(57, 22, 62, 27);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 806,
            "column": 1
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "OLED_DrawLine(62, 27, 70, 19);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 807,
            "column": 1
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "OLED_DrawLine(58, 23, 63, 28);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 808,
            "column": 1
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "OLED_DrawLine(63, 28, 71, 20);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 809,
            "column": 1
          }
        },
        {
          "id": "n26",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(38, \"Calibration Complete!\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 812,
            "column": 1
          }
        },
        {
          "id": "n27",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 814,
            "column": 1
          }
        },
        {
          "id": "n28",
          "kind": "statement",
          "label": "osDelay(2000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 815,
            "column": 1
          }
        },
        {
          "id": "n29",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 818,
            "column": 1
          }
        },
        {
          "id": "n30",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 819,
            "column": 1
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n13",
          "label": "Loop body"
        },
        {
          "source": "n14",
          "target": "n15",
          "label": "True"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n14",
          "target": "n16"
        },
        {
          "source": "n16",
          "target": "n12",
          "label": "Iterate"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n17"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n23",
          "target": "n24"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n25",
          "target": "n26"
        },
        {
          "source": "n26",
          "target": "n27"
        },
        {
          "source": "n27",
          "target": "n28"
        },
        {
          "source": "n28",
          "target": "n29"
        },
        {
          "source": "n29",
          "target": "n30"
        },
        {
          "source": "n30",
          "target": "n1"
        }
      ]
    },
    {
      "name": "menu2_else_mode_with_return",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u65b0\u589e\uff1aElse Mode\u4e8c\u7ea7\u83dc\u5355 - \u5305\u542b\u52ff\u6270\u6a21\u5f0f\u548c\u91cd\u7f6e\u6a21\u5f0f\nint menu2_else_mode_with_return(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 824,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 896,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "static uint8_t last_flag_change = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 825,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 827,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "last_flag_change = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 828,
            "column": 1
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 831,
            "column": 1
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(16, \"Do Not Disturb\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 833,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(28, \"Door Reset\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 834,
            "column": 1
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(40, \"Back\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 835,
            "column": 1
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "OLED_HighlightMenuLine(flag_change - 1, true);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 838,
            "column": 1
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "OLED_DrawBatteryIconTopRight();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 840,
            "column": 1
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_BatteryLowNotifier_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 841,
            "column": 1
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "OLED_Display();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 843,
            "column": 1
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "last_flag_change = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 844,
            "column": 1
          }
        },
        {
          "id": "n14",
          "kind": "loop",
          "label": "while(1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 846,
            "column": 1
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "key_num = Key_GetEvent();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 848,
            "column": 1
          }
        },
        {
          "id": "n16",
          "kind": "conditional",
          "label": "if (key_num == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 849,
            "column": 2
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "flag_change--;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 851,
            "column": 3
          }
        },
        {
          "id": "n18",
          "kind": "conditional",
          "label": "if (flag_change == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 852,
            "column": 3
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "flag_change = 3;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 854,
            "column": 5
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "if(key_num == 2 )\n\t\t{\n\t\t\tOLED_Clear();\n\t\t\tOLED_Display();\n\t\t\tif(flag_change == 3) {\n\t\t\t\treturn 0; // \u8fd4\u56de\u4e0a\u4e00\u7ea7\n\t\t\t}\n\t\t\treturn flag_change;\n\t\t}\n\t\telse if(key_num == 3 )\n\t\t{\n\t\t\tflag_change++;\n\t\t\tif(flag_change > 3 )\n\t\t\t{\n\t\t\t\t flag_change = 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// \u53ea\u6709\u5f53\u9009\u62e9\u53d1\u751f\u53d8\u5316\u65f6\u624d\u5237\u65b0\u663e\u793a\n\t\tif (flag_change != last_flag_change) {\n\t\t\t// \u663e\u793a\u83dc\u5355\u9879\n\t\t\tOLED_Clear();\n\t\t\t\n\t\t\tOLED_ShowStringCentered(16, \"Do Not Disturb\", OLED_6X8_HALF);\n\t\t\tOLED_ShowStringCentered(28, \"Door Reset\", OLED_6X8_HALF);\n\t\t\tOLED_ShowStringCentered(40, \"Back\", OLED_6X8_HALF);\n\t\t\t\n\t\t\t// \u9ad8\u4eae\u5f53\u524d\u9009\u4e2d\u7684\u884c\n\t\t\tOLED_HighlightMenuLine(flag_change - 1, true);\n\t\t\t// \u53e0\u52a0\u53f3\u4e0a\u89d2\u7535\u91cf\u4e0e\u4f4e\u7535\u63d0\u793a\n\t\t\tOLED_DrawBatteryIconTopRight();\n\t\t\tOLED_BatteryLowNotifier_Update();\n\t\t\t\n\t\t\tOLED_Display();\n\t\t\tlast_flag_change = flag_change;  // \u66f4\u65b0\u8bb0\u5f55\n\t\t}\n\t\t\n\t\tosDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 857,
            "column": 7
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n14",
          "target": "n15",
          "label": "Loop body"
        },
        {
          "source": "n16",
          "target": "n17",
          "label": "True"
        },
        {
          "source": "n18",
          "target": "n19",
          "label": "True"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n16",
          "target": "n20",
          "label": "False"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n19",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n18",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n20",
          "target": "n14",
          "label": "Iterate"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n14",
          "target": "n1"
        }
      ]
    },
    {
      "name": "handle_config_menu",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u5c01\u88c5\u83dc\u5355\u5904\u7406\u51fd\u6570\nvoid handle_config_menu(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 923,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1069,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 925,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "OLED_ScrollTextInCentered(15, \"Radar Config\", OLED_8X16_HALF, ANIMATION_SLIDE_DOWN, SCROLL_SPEED_FAST);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 926,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "osDelay(1000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 927,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "selected_user_id = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 930,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "user_config_t current_config;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 933,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "bool config_exists = Flash_LoadUserConfig(1, &current_config);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 934,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "conditional",
          "label": "if (!config_exists)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 936,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "Flash_GetDefaultUserConfig(&current_config, 1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 938,
            "column": 8
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 939,
            "column": 8
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(15, \"Loading defaults...\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 940,
            "column": 8
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "osDelay(1000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 941,
            "column": 8
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 944,
            "column": 8
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(15, \"Loading config...\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 945,
            "column": 8
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 946,
            "column": 8
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "osDelay(1000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 947,
            "column": 8
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 950,
            "column": 1
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "debug_temp_angle = current_config.open_angle;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 953,
            "column": 4
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "debug_temp_speed = current_config.open_speed;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 954,
            "column": 4
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "debug_open_or_not_flag = current_config.open_or_not_flag;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 955,
            "column": 4
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "char config_info[64];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 958,
            "column": 4
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "sprintf(config_info, \"Config ID: %d\", selected_user_id);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 959,
            "column": 4
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(35, config_info, OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 960,
            "column": 4
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 961,
            "column": 4
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "osDelay(1500);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 962,
            "column": 4
          }
        },
        {
          "id": "n26",
          "kind": "statement",
          "label": "int config_result = menu3_angle_speed();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 965,
            "column": 4
          }
        },
        {
          "id": "n27",
          "kind": "conditional",
          "label": "if (config_result == 1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 966,
            "column": 4
          }
        },
        {
          "id": "n28",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 970,
            "column": 8
          }
        },
        {
          "id": "n29",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(15, \"Saving config...\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 971,
            "column": 8
          }
        },
        {
          "id": "n30",
          "kind": "statement",
          "label": "enroll_progress_active = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 974,
            "column": 8
          }
        },
        {
          "id": "n31",
          "kind": "statement",
          "label": "enroll_progress_start_time = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 975,
            "column": 8
          }
        },
        {
          "id": "n32",
          "kind": "statement",
          "label": "enroll_progress_duration = 2000;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 976,
            "column": 8
          }
        },
        {
          "id": "n33",
          "kind": "statement",
          "label": "uint32_t save_start = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 978,
            "column": 8
          }
        },
        {
          "id": "n34",
          "kind": "statement",
          "label": "bool save_success = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 979,
            "column": 8
          }
        },
        {
          "id": "n35",
          "kind": "statement",
          "label": "user_cfg_diy.user_id = selected_user_id;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 982,
            "column": 8
          }
        },
        {
          "id": "n36",
          "kind": "statement",
          "label": "user_cfg_diy.open_angle = debug_temp_angle;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 983,
            "column": 8
          }
        },
        {
          "id": "n37",
          "kind": "statement",
          "label": "user_cfg_diy.open_speed = debug_temp_speed;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 984,
            "column": 8
          }
        },
        {
          "id": "n38",
          "kind": "statement",
          "label": "user_cfg_diy.open_or_not_flag = debug_open_or_not_flag;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 985,
            "column": 8
          }
        },
        {
          "id": "n39",
          "kind": "statement",
          "label": "bool erase_success = Flash_EraseAllUserData();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 988,
            "column": 8
          }
        },
        {
          "id": "n40",
          "kind": "conditional",
          "label": "if (erase_success)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 990,
            "column": 8
          }
        },
        {
          "id": "n41",
          "kind": "statement",
          "label": "Flash_Unlock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 993,
            "column": 12
          }
        },
        {
          "id": "n42",
          "kind": "statement",
          "label": "uint32_t flash_address = FLASH_USER_BASE_ADDR + (user_cfg_diy.user_id * USER_CONFIG_FLASH_SIZE);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 996,
            "column": 12
          }
        },
        {
          "id": "n43",
          "kind": "statement",
          "label": "flash_address = (flash_address + 7) & ~7;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 997,
            "column": 12
          }
        },
        {
          "id": "n44",
          "kind": "statement",
          "label": "user_config_t temp_cfg = user_cfg_diy;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1000,
            "column": 12
          }
        },
        {
          "id": "n45",
          "kind": "statement",
          "label": "temp_cfg.crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1001,
            "column": 12
          }
        },
        {
          "id": "n46",
          "kind": "statement",
          "label": "temp_cfg.crc = calculate_crc(&temp_cfg);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1002,
            "column": 12
          }
        },
        {
          "id": "n47",
          "kind": "statement",
          "label": "Flash_Status write_result = Flash_Write64BitAligned(flash_address, &temp_cfg, sizeof(user_config_t));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1005,
            "column": 12
          }
        },
        {
          "id": "n48",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1007,
            "column": 12
          }
        },
        {
          "id": "n49",
          "kind": "statement",
          "label": "save_success = (write_result == FLASH_OK);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1009,
            "column": 12
          }
        },
        {
          "id": "n50",
          "kind": "conditional",
          "label": "if (save_success)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1012,
            "column": 12
          }
        },
        {
          "id": "n51",
          "kind": "statement",
          "label": "user_config_t verify_cfg;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1014,
            "column": 16
          }
        },
        {
          "id": "n52",
          "kind": "statement",
          "label": "bool verify_result = Flash_LoadUserConfig(user_cfg_diy.user_id, &verify_cfg);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1015,
            "column": 16
          }
        },
        {
          "id": "n53",
          "kind": "conditional",
          "label": "if (!verify_result)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1016,
            "column": 16
          }
        },
        {
          "id": "n54",
          "kind": "statement",
          "label": "save_success = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1017,
            "column": 20
          }
        },
        {
          "id": "n55",
          "kind": "conditional",
          "label": "if (verify_cfg.user_id != user_cfg_diy.user_id ||\n                        verify_cfg.open_angle != user_cfg_diy.open_angle ||\n                        verify_cfg.open_speed != user_cfg_diy.open_speed ||\n                        verify_cfg.open_or_not_flag != user_cfg_diy.open_or_not_flag)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1020,
            "column": 20
          }
        },
        {
          "id": "n56",
          "kind": "statement",
          "label": "save_success = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1024,
            "column": 24
          }
        },
        {
          "id": "n57",
          "kind": "loop",
          "label": "while ((HAL_GetTick() - save_start) < enroll_progress_duration)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1031,
            "column": 8
          }
        },
        {
          "id": "n58",
          "kind": "conditional",
          "label": "if (enroll_progress_active)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1032,
            "column": 12
          }
        },
        {
          "id": "n59",
          "kind": "statement",
          "label": "uint32_t elapsed = HAL_GetTick() - enroll_progress_start_time;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1033,
            "column": 16
          }
        },
        {
          "id": "n60",
          "kind": "statement",
          "label": "uint8_t progress = (elapsed * 100) / enroll_progress_duration;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1034,
            "column": 16
          }
        },
        {
          "id": "n61",
          "kind": "conditional",
          "label": "if (progress > 100)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1036,
            "column": 16
          }
        },
        {
          "id": "n62",
          "kind": "statement",
          "label": "progress = 100;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1037,
            "column": 20
          }
        },
        {
          "id": "n63",
          "kind": "statement",
          "label": "enroll_progress_active = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1038,
            "column": 20
          }
        },
        {
          "id": "n64",
          "kind": "statement",
          "label": "OLED_ClearArea(10, 30, 108, 20);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1042,
            "column": 16
          }
        },
        {
          "id": "n65",
          "kind": "statement",
          "label": "OLED_ShowProgressBar(10, 35, 108, progress, PROGRESS_SPEED_FAST);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1043,
            "column": 16
          }
        },
        {
          "id": "n66",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1044,
            "column": 16
          }
        },
        {
          "id": "n67",
          "kind": "statement",
          "label": "osDelay(50);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1046,
            "column": 12
          }
        },
        {
          "id": "n68",
          "kind": "conditional",
          "label": "if (save_success)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1049,
            "column": 8
          }
        },
        {
          "id": "n69",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1051,
            "column": 12
          }
        },
        {
          "id": "n70",
          "kind": "statement",
          "label": "OLED_ShowMessageCentered(\"Config Saved\", \"Successfully!\");",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1052,
            "column": 12
          }
        },
        {
          "id": "n71",
          "kind": "statement",
          "label": "osDelay(2000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1053,
            "column": 12
          }
        },
        {
          "id": "n72",
          "kind": "statement",
          "label": "system_state = FACE_ENROLL_SUCCESS;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1054,
            "column": 12
          }
        },
        {
          "id": "n73",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1057,
            "column": 12
          }
        },
        {
          "id": "n74",
          "kind": "statement",
          "label": "OLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1058,
            "column": 12
          }
        },
        {
          "id": "n75",
          "kind": "statement",
          "label": "OLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1059,
            "column": 12
          }
        },
        {
          "id": "n76",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(23, \"Save Failed\", OLED_7X12_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1060,
            "column": 12
          }
        },
        {
          "id": "n77",
          "kind": "statement",
          "label": "OLED_Update();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1061,
            "column": 12
          }
        },
        {
          "id": "n78",
          "kind": "statement",
          "label": "osDelay(2000);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1062,
            "column": 12
          }
        },
        {
          "id": "n79",
          "kind": "statement",
          "label": "system_state = FACE_ENROLL_FAIL;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1063,
            "column": 12
          }
        },
        {
          "id": "n80",
          "kind": "statement",
          "label": "system_state = FACE_ENROLL_FAIL;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1067,
            "column": 8
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "True"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n8",
          "target": "n13",
          "label": "False"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n12",
          "target": "n17"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n23",
          "target": "n24"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n25",
          "target": "n26"
        },
        {
          "source": "n27",
          "target": "n28",
          "label": "True"
        },
        {
          "source": "n28",
          "target": "n29"
        },
        {
          "source": "n29",
          "target": "n30"
        },
        {
          "source": "n30",
          "target": "n31"
        },
        {
          "source": "n31",
          "target": "n32"
        },
        {
          "source": "n32",
          "target": "n33"
        },
        {
          "source": "n33",
          "target": "n34"
        },
        {
          "source": "n34",
          "target": "n35"
        },
        {
          "source": "n35",
          "target": "n36"
        },
        {
          "source": "n36",
          "target": "n37"
        },
        {
          "source": "n37",
          "target": "n38"
        },
        {
          "source": "n38",
          "target": "n39"
        },
        {
          "source": "n40",
          "target": "n41",
          "label": "True"
        },
        {
          "source": "n41",
          "target": "n42"
        },
        {
          "source": "n42",
          "target": "n43"
        },
        {
          "source": "n43",
          "target": "n44"
        },
        {
          "source": "n44",
          "target": "n45"
        },
        {
          "source": "n45",
          "target": "n46"
        },
        {
          "source": "n46",
          "target": "n47"
        },
        {
          "source": "n47",
          "target": "n48"
        },
        {
          "source": "n48",
          "target": "n49"
        },
        {
          "source": "n50",
          "target": "n51",
          "label": "True"
        },
        {
          "source": "n51",
          "target": "n52"
        },
        {
          "source": "n53",
          "target": "n54",
          "label": "True"
        },
        {
          "source": "n55",
          "target": "n56",
          "label": "True"
        },
        {
          "source": "n53",
          "target": "n55",
          "label": "False"
        },
        {
          "source": "n52",
          "target": "n53"
        },
        {
          "source": "n49",
          "target": "n50"
        },
        {
          "source": "n39",
          "target": "n40"
        },
        {
          "source": "n58",
          "target": "n59",
          "label": "True"
        },
        {
          "source": "n59",
          "target": "n60"
        },
        {
          "source": "n61",
          "target": "n62",
          "label": "True"
        },
        {
          "source": "n62",
          "target": "n63"
        },
        {
          "source": "n60",
          "target": "n61"
        },
        {
          "source": "n63",
          "target": "n64"
        },
        {
          "source": "n61",
          "target": "n64"
        },
        {
          "source": "n64",
          "target": "n65"
        },
        {
          "source": "n65",
          "target": "n66"
        },
        {
          "source": "n57",
          "target": "n58",
          "label": "Loop body"
        },
        {
          "source": "n66",
          "target": "n67"
        },
        {
          "source": "n58",
          "target": "n67"
        },
        {
          "source": "n67",
          "target": "n57",
          "label": "Iterate"
        },
        {
          "source": "n54",
          "target": "n57"
        },
        {
          "source": "n56",
          "target": "n57"
        },
        {
          "source": "n55",
          "target": "n57"
        },
        {
          "source": "n50",
          "target": "n57"
        },
        {
          "source": "n40",
          "target": "n57"
        },
        {
          "source": "n68",
          "target": "n69",
          "label": "True"
        },
        {
          "source": "n69",
          "target": "n70"
        },
        {
          "source": "n70",
          "target": "n71"
        },
        {
          "source": "n71",
          "target": "n72"
        },
        {
          "source": "n68",
          "target": "n73",
          "label": "False"
        },
        {
          "source": "n73",
          "target": "n74"
        },
        {
          "source": "n74",
          "target": "n75"
        },
        {
          "source": "n75",
          "target": "n76"
        },
        {
          "source": "n76",
          "target": "n77"
        },
        {
          "source": "n77",
          "target": "n78"
        },
        {
          "source": "n78",
          "target": "n79"
        },
        {
          "source": "n57",
          "target": "n68"
        },
        {
          "source": "n27",
          "target": "n80",
          "label": "False"
        },
        {
          "source": "n26",
          "target": "n27"
        },
        {
          "source": "n72",
          "target": "n1"
        },
        {
          "source": "n79",
          "target": "n1"
        },
        {
          "source": "n80",
          "target": "n1"
        }
      ]
    },
    {
      "name": "handle_delete_menu",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "void handle_delete_menu(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1073,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1151,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "delete_num = menu2_delete_with_return();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1074,
            "column": 1
          }
        },
        {
          "id": "n3",
          "kind": "conditional",
          "label": "if (delete_num == 0)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1075,
            "column": 1
          }
        },
        {
          "id": "n4",
          "kind": "return",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1077,
            "column": 2
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "if(delete_num == 1) \n\t{\n\n\t\tDelete = true ;\t\n\t\tosDelay(5);   \n\n\t}\n\telse if(delete_num == 2)\n\t{\n\t\t// \u5220\u9664\u5355\u4e2a\u7528\u6237\n\t\tOLED_ShowMessageCentered(\"Reset Single\", \"Press any key\");\n\twhile(Key_GetEvent() == 0) { osDelay(5); }\n\t}\n\t\n\t// \u521d\u59cb\u5316\u5220\u9664\u6210\u529f\u6807\u5fd7\n\tdelete_success = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1079,
            "column": 6
          }
        },
        {
          "id": "n6",
          "kind": "conditional",
          "label": "if (Delete == true)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1096,
            "column": 1
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "uint32_t delete_start = HAL_GetTick();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1099,
            "column": 2
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "uint32_t delete_timeout = 5000;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1100,
            "column": 2
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "FaceRec_ClearAllUsers();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1102,
            "column": 2
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "osDelay(100);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1103,
            "column": 2
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "OLED_Clear();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1106,
            "column": 2
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "OLED_ShowStringCentered(15, \"Resetting...\", OLED_6X8_HALF);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1107,
            "column": 2
          }
        },
        {
          "id": "n13",
          "kind": "loop",
          "label": "while ((HAL_GetTick() - delete_start) < delete_timeout)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1109,
            "column": 2
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "uint32_t elapsed = HAL_GetTick() - delete_start;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1112,
            "column": 3
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "uint8_t progress = (elapsed * 100) / delete_timeout;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1113,
            "column": 3
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "OLED_ClearArea(10, 30, 108, 20);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1116,
            "column": 3
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "OLED_ShowProgressBar(10, 35, 108, progress, PROGRESS_SPEED_FAST);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1117,
            "column": 3
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "FaceRec_ClearAllUsers();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1119,
            "column": 3
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "osDelay(100);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1120,
            "column": 3
          }
        },
        {
          "id": "n20",
          "kind": "conditional",
          "label": "if (FaceRec_HasDataAvailable())",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1122,
            "column": 3
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "FaceRec_Process();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1123,
            "column": 4
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "osDelay(5);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1126,
            "column": 4
          }
        },
        {
          "id": "n23",
          "kind": "conditional",
          "label": "if (FaceRec_IsDeleteSuccess())",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1128,
            "column": 3
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "delete_success = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1130,
            "column": 4
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "OLED_ClearArea(10, 30, 108, 20);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1132,
            "column": 4
          }
        },
        {
          "id": "n26",
          "kind": "statement",
          "label": "OLED_ShowProgressBar(10, 35, 108, 100, PROGRESS_SPEED_FAST);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1133,
            "column": 4
          }
        },
        {
          "id": "n27",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1134,
            "column": 4
          }
        },
        {
          "id": "n28",
          "kind": "conditional",
          "label": "if (Delete == true)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1140,
            "column": 1
          }
        },
        {
          "id": "n29",
          "kind": "conditional",
          "label": "if (delete_success)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1142,
            "column": 2
          }
        },
        {
          "id": "n30",
          "kind": "statement",
          "label": "system_state = FACE_DELETE_SUCCESS;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1144,
            "column": 4
          }
        },
        {
          "id": "n31",
          "kind": "statement",
          "label": "system_state = FACE_DELETE_FAIL;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1148,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n4",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n3",
          "target": "n4",
          "label": "True"
        },
        {
          "source": "n3",
          "target": "n5",
          "label": "False"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n6",
          "target": "n7",
          "label": "True"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n13",
          "target": "n14",
          "label": "Loop body"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n20",
          "target": "n21",
          "label": "True"
        },
        {
          "source": "n20",
          "target": "n22",
          "label": "False"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n23",
          "target": "n24",
          "label": "True"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n25",
          "target": "n26"
        },
        {
          "source": "n26",
          "target": "n27"
        },
        {
          "source": "n21",
          "target": "n23"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n27",
          "target": "n13",
          "label": "Iterate"
        },
        {
          "source": "n23",
          "target": "n13",
          "label": "Iterate"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n29",
          "target": "n30",
          "label": "True"
        },
        {
          "source": "n29",
          "target": "n31",
          "label": "False"
        },
        {
          "source": "n28",
          "target": "n29",
          "label": "True"
        },
        {
          "source": "n13",
          "target": "n28"
        },
        {
          "source": "n6",
          "target": "n28"
        },
        {
          "source": "n30",
          "target": "n1"
        },
        {
          "source": "n31",
          "target": "n1"
        },
        {
          "source": "n28",
          "target": "n1"
        }
      ]
    },
    {
      "name": "process_main_menu",
      "parameters": [
        "int menu_choice"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u4e3b\u83dc\u5355\u5904\u7406\u51fd\u6570\nvoid process_main_menu(int menu_choice)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1155,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1171,
            "column": 0
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Flash_Task",
      "parameters": [
        "void * argument"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "void Flash_Task(void * argument)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1173,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1351,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "loop",
          "label": "for (;;)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1174,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "conditional",
          "label": "if (system_state != Do_not_disturb && lora_rx_flag==1)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1176,
            "column": 5
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "HC15_SendMessage(\"AARI55\");",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1178,
            "column": 6
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "lora_rx_flag=0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1179,
            "column": 6
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "osDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1180,
            "column": 6
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "osDelay(10);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1182,
            "column": 2
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "switch (system_state)\n        {\n\t\t\tcase Do_not_disturb:\n\t\t\t\tHC15_SendMessage(\"AA0055\");\n\t\t\t\tosDelay(10);\n\t\t\t\tstatic uint32_t pir_start = 0;\n\t\t\t\tif(lora_rx_flag==1)\n\t\t\t\t{\n\t\t\t\t\tHC15_SendMessage(\"AARF55\");\n\t\t\t\t\tosDelay(10);\n\t\t\t\t\tlora_rx_flag = 0;                   // \u6e05\u9664LoRa\u63a5\u6536\u6807\u5fd7\n\t\t\t\t}\n\t\t\t\t// \u68c0\u67e5\u957f\u6309\u6309\u952e3\u9000\u51fa\u52ff\u6270\u6a21\u5f0f\uff08\u65e0\u8bba\u662f\u9759\u9ed8\u8fd8\u662f\u975e\u9759\u9ed8\u6a21\u5f0f\uff09\n\t\t\t\tkey_num = Key_GetEvent();\n\t\t\t\tif (key_num == 1 || key_num == 2 || key_num == 3) {  // \u957f\u6309\u6309\u952e3\n\t\t\t\t\tsilent_do_not_disturb = false;  // \u6e05\u9664\u9759\u9ed8\u6807\u5fd7\n\t\t\t\t\tsystem_state = SYSTEM_IDLE;  // \u9000\u51fa\u52ff\u6270\u6a21\u5f0f---\n\t\t\t\t\tOLED_Clear();\n\t\t\t\t\tOLED_Update();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// \u5982\u679c\u662f\u9759\u9ed8\u52ff\u6270\u6a21\u5f0f\uff0c\u4e0d\u663e\u793a\u4efb\u4f55\u5185\u5bb9\n\t\t\t\tif (silent_do_not_disturb) {\n\t\t\t\t\tOLED_Clear();\n\t\t\t\t\tOLED_Update();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// \u975e\u9759\u9ed8\u52ff\u6270\u6a21\u5f0f\uff0c\u4fdd\u6301\u539f\u6709\u7684PIR\u663e\u793a\u903b\u8f91\n\t\t\t\tif(HAL_GPIO_ReadPin(PIR_INPUT_GPIO_Port, PIR_INPUT_Pin) == GPIO_PIN_SET)\n\t\t\t\t{\n\t\t\t\t\tpir_start = HAL_GetTick();\n\t\t\t\t}\n\t\t\t\tif((HAL_GetTick() - pir_start) < 5000)\n\t\t\t\t{\n\t\t\t\t\tOLED_Clear();\n\t\t\t\t\tOLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);\n\t\t\t\t\tOLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);\n\t\t\t\t\tchar disturb_info[35];\n\t\t\t\t\tsprintf(disturb_info, \"Do not disturb!\");\n\t\t\t\t\tOLED_ShowStringCentered(23, disturb_info, OLED_7X12_HALF);\n\t\t\t\t\tOLED_Update();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tOLED_Clear();\n\t\t\t\t\tOLED_Update();\n\t\t\t\t}\n\t\t\t\tbreak;\n            case SYSTEM_IDLE:\n            {\n\t\t\t\tstatic uint32_t idle_start = 0;\n\t\t\t\tif(idle_start == 0)\n\t\t\t\t{\n\t\t\t\t\tidle_start = HAL_GetTick();\n\t\t\t\t}\n\t\t\t\tif(HAL_GetTick() - idle_start > 2000)\n\t\t\t\t{\n\t\t\t\t\tidle_start = 0;\n                    pre_Sleep_Flag = 1;\n\n\t\t\t\t\tXY_MB06BA_SendATCommand(\"AT+DISCONN=1\");\n                    osDelay(10);\n                    XY_MB06BA_SendATCommand(\"AT+DISCONN=0\");\n                    osDelay(10);\n\t\t\t\t\tXY_MB06BA_SendATCommand(\"AT+DISCONN=1\");\n                    osDelay(10);\n                    XY_MB06BA_SendATCommand(\"AT+DISCONN=0\");\n                    osDelay(10);\n\t\t\t\t\tHAL_GPIO_WritePin(GPIOA, GPIO_PIN_8, GPIO_PIN_SET);\t\n\t\t\t\t\tHAL_GPIO_WritePin(GPIOA, GPIO_PIN_4, GPIO_PIN_SET);\t\n\t\t\t\t\tOLED_Clear();\n\t\t\t\t\tOLED_Update();\n\t\t\t\t\t/* \u786e\u4fddNMOS\u5904\u4e8e\u5173\u95ed\u72b6\u6001\uff08PC2\u4e3a\u672c\u9879\u76ee\u9ed8\u8ba4\u95e8\u6781\u5f15\u811a\uff09 */\n\t\t\t\t\tHAL_GPIO_WritePin(GPIOC, GPIO_PIN_2, GPIO_PIN_RESET);\n\t\t\t\t\tPowerMgmt_SetLowPowerMode(1);\n\t\t\t\t\tosDelay(1000);\n\t\t\t\t}\n\t\t\t\tOLED_Clear();\n\t\t\t\tOLED_Update();\n\t\t\t\tosDelay(50);\n                break;\n            }\n\n            case FACE_VERIFYING:\n            {\n                (void)HAL_GetTick(); // \u907f\u514d\u672a\u4f7f\u7528\u53d8\u91cf\u8b66\u544a\n                osDelay(50);  // \u589e\u52a0\u5ef6\u65f6\uff0c\u51cf\u5c11\u5237\u65b0\u9891\u7387\n                break;\n            }\n            case FACE_VERIFY_SUCCESS:\n                break;\n\n            case FACE_VERIFY_FAIL:\n\t\t\t\tOLED_Clear();\n\t\t\t\tOLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);\n\t\t\t\tOLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);\n\t\t\t\tOLED_Update();\n                OLED_ShowMessageCentered(\"Radar Failed\", \"No detection\");\n                osDelay(1500);\n                system_state = SYSTEM_IDLE;\n                all_control = false;\n                break;\n\n            case FACE_ENROLL_SUCCESS:\n\t\t\t\tOLED_Clear();\n\t\t\t\tOLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);\n\t\t\t\tOLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);\n\t\t\t\tOLED_Update();\n                OLED_ShowMessageCentered(\"Config Success\", \"Settings saved\");\n                osDelay(1500);\n                system_state = MENU_ACTIVE;\n                break;\n\n            case FACE_ENROLL_FAIL:\n\n                system_state = MENU_ACTIVE;\n                break;\n\n            case FACE_DELETE_SUCCESS:\n\t\t\t\tOLED_Clear();\n\t\t\t\tOLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);\n\t\t\t\tOLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);\n\t\t\t\tOLED_Update();\n                OLED_ShowMessageCentered(\"Reset Success\", \"Data cleared\");\n                osDelay(1500);\n                system_state = MENU_ACTIVE;\n                Delete = false;\n                break;\n\n            case FACE_DELETE_FAIL:\n\t\t\t\tOLED_Clear();\n\t\t\t\tOLED_DrawRectangle(5, 5, 118, 54, OLED_UNFILLED);\n\t\t\t\tOLED_DrawRectangle(6, 6, 116, 52, OLED_UNFILLED);\n\t\t\t\tOLED_Update();\n                OLED_ShowMessageCentered(\"Reset Failed\", \"Try again\");\n                osDelay(1500);\n                system_state = MENU_ACTIVE;\n                Delete = false;\n                break;\n\n            case MENU_ACTIVE:\n            {\n\t\t\t\tface_enroll_in_progress = true;\n                int menu_choice = menu1();\n\t\t\t\tif(system_state != Do_not_disturb)\n\t\t\t\t{\n\t\t\t\t\tprocess_main_menu(menu_choice);\n                    if(system_state != Do_not_disturb)\n\t\t\t\t\t{\n\t\t\t\t\t\tsystem_state = SYSTEM_IDLE;\n\t\t\t\t\t}\n\t\t\t\t}\n                face_enroll_in_progress = false;\n                break;\n            }\n\n            default:\n                OLED_ShowMessageCentered(\"System Error\", \"Unknown state\");\n                osDelay(1000);\n                system_state = SYSTEM_IDLE;\n                break;\n        }\n\n        osDelay(1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1184,
            "column": 8
          }
        }
      ],
      "edges": [
        {
          "source": "n3",
          "target": "n4",
          "label": "True"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n2",
          "target": "n3",
          "label": "Loop body"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n3",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n2",
          "label": "Iterate"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n1"
        }
      ]
    },
    {
      "name": "calculate_crc",
      "parameters": [
        "const user_config_t *cfg"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u7528\u6237\u914d\u7f6e\u7ed3\u6784\u4f53\u5df2\u5728 Flash.h \u4e2d\u5b9a\u4e49\n\n// \u8ba1\u7b97CRC\u6821\u9a8c\nstatic uint8_t calculate_crc(const user_config_t *cfg)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1356,
            "column": 56
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1363,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "uint8_t crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1357,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "const uint8_t *data = (const uint8_t*)cfg;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1358,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "loop",
          "label": "for (int i = 0; i < sizeof(user_config_t) - 1; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1359,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "crc ^= data[i];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1360,
            "column": 8
          }
        },
        {
          "id": "n6",
          "kind": "return",
          "label": "return crc;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1362,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n4",
          "target": "n5",
          "label": "Loop body"
        },
        {
          "source": "n5",
          "target": "n4",
          "label": "Iterate"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n6",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n4",
          "target": "n6"
        }
      ]
    },
    {
      "name": "calculate_ble_address_crc",
      "parameters": [
        "2KB)\uff0c\u4e0e\u7528\u6237\u6570\u636e\u533a\u57df\u5b8c\u5168\u5206\u79bb\n#define BLE_ADDRESS_VALID_FLAG    0x55          // \u6709\u6548\u6807\u5fd7\n\n// \u8ba1\u7b97\u84dd\u7259\u5730\u5740\u5b58\u50a8\u7684CRC\u6821\u9a8c\nstatic uint8_t calculate_ble_address_crc(const ble_address_storage_t *addr_storage"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "#define BLE_ADDRESS_FLASH_ADDR    0x0803F800    // \u84dd\u7259\u5730\u5740\u72ec\u7acb\u5b58\u50a8\u533a\u57df(2KB)\uff0c\u4e0e\u7528\u6237\u6570\u636e\u533a\u57df\u5b8c\u5168\u5206\u79bb\n#define BLE_ADDRESS_VALID_FLAG    0x55          // \u6709\u6548\u6807\u5fd7\n\n// \u8ba1\u7b97\u84dd\u7259\u5730\u5740\u5b58\u50a8\u7684CRC\u6821\u9a8c\nstatic uint8_t calculate_ble_address_crc(const ble_address_storage_t *addr_storage)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1379,
            "column": 85
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1386,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "uint8_t crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1380,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "const uint8_t *data = (const uint8_t*)addr_storage;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1381,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "loop",
          "label": "for (int i = 0; i < sizeof(ble_address_storage_t) - 1; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1382,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "crc ^= data[i];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1383,
            "column": 8
          }
        },
        {
          "id": "n6",
          "kind": "return",
          "label": "return crc;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1385,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n4",
          "target": "n5",
          "label": "Loop body"
        },
        {
          "source": "n5",
          "target": "n4",
          "label": "Iterate"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n6",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n4",
          "target": "n6"
        }
      ]
    },
    {
      "name": "Flash_LoadUserConfig",
      "parameters": [
        "uint16_t user_id",
        "user_config_t *cfg"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "bool Flash_LoadUserConfig(uint16_t user_id, user_config_t *cfg)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1388,
            "column": 65
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1423,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (!cfg)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1389,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1389,
            "column": 14
          }
        },
        {
          "id": "n4",
          "kind": "conditional",
          "label": "if (user_id >= MAX_USER_CONFIG_COUNT)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1390,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1390,
            "column": 42
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "uint32_t flash_address = FLASH_USER_BASE_ADDR + (user_id * USER_CONFIG_FLASH_SIZE);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1393,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "flash_address = (flash_address + 7) & ~7;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1394,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "conditional",
          "label": "if (flash_address >= FLASH_USER_END_ADDR)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1396,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1396,
            "column": 46
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "uint64_t *raw_data = (uint64_t*)flash_address;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1399,
            "column": 4
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "bool is_empty = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1402,
            "column": 4
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "uint32_t words_to_check = (sizeof(user_config_t) + 7) / 8;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1403,
            "column": 4
          }
        },
        {
          "id": "n13",
          "kind": "loop",
          "label": "for (uint32_t i = 0; i < words_to_check; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1404,
            "column": 4
          }
        },
        {
          "id": "n14",
          "kind": "conditional",
          "label": "if (raw_data[i] != 0xFFFFFFFFFFFFFFFFULL)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1405,
            "column": 8
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "is_empty = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1406,
            "column": 12
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1407,
            "column": 12
          }
        },
        {
          "id": "n17",
          "kind": "conditional",
          "label": "if (is_empty)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1410,
            "column": 4
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1410,
            "column": 18
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "memcpy(cfg, raw_data, sizeof(user_config_t));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1413,
            "column": 4
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "uint8_t crc_check = calculate_crc(cfg);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1416,
            "column": 4
          }
        },
        {
          "id": "n21",
          "kind": "conditional",
          "label": "if (crc_check != cfg->crc)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1417,
            "column": 4
          }
        },
        {
          "id": "n22",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1419,
            "column": 8
          }
        },
        {
          "id": "n23",
          "kind": "return",
          "label": "return true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1422,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n4",
          "target": "n5",
          "label": "True"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n4",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "True"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n8",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n12"
        },
        {
          "source": "n14",
          "target": "n15",
          "label": "True"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n13",
          "target": "n14",
          "label": "Loop body"
        },
        {
          "source": "n16",
          "target": "n13",
          "label": "Iterate"
        },
        {
          "source": "n14",
          "target": "n13",
          "label": "Iterate"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n17",
          "target": "n18",
          "label": "True"
        },
        {
          "source": "n13",
          "target": "n17"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n17",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n22",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n21",
          "target": "n22",
          "label": "True"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n23",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n21",
          "target": "n23"
        }
      ]
    },
    {
      "name": "Flash_Write64BitAligned",
      "parameters": [
        "uint32_t address",
        "const void* data",
        "uint32_t size"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "// \u4e13\u95e8\u7528\u4e8e64\u4f4d\u5bf9\u9f50\u5199\u5165\u7684\u51fd\u6570\nstatic Flash_Status Flash_Write64BitAligned(uint32_t address, const void* data, uint32_t size)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1426,
            "column": 96
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1453,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (address & 0x7)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1428,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "return",
          "label": "return FLASH_ERROR;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1429,
            "column": 8
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "uint64_t aligned_buffer[16];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1433,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "memset(aligned_buffer, 0xFF, sizeof(aligned_buffer));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1434,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "memcpy(aligned_buffer, data, size);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1435,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "uint32_t words_to_write = (size + 7) / 8;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1438,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "loop",
          "label": "for (uint32_t i = 0; i < words_to_write; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1441,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "HAL_StatusTypeDef status = HAL_FLASH_Program(\n            FLASH_TYPEPROGRAM_DOUBLEWORD, \n            address + i * 8, \n            aligned_buffer[i]\n        );",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1442,
            "column": 8
          }
        },
        {
          "id": "n10",
          "kind": "conditional",
          "label": "if (status != HAL_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1447,
            "column": 8
          }
        },
        {
          "id": "n11",
          "kind": "return",
          "label": "return FLASH_ERROR;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1448,
            "column": 12
          }
        },
        {
          "id": "n12",
          "kind": "return",
          "label": "return FLASH_OK;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1452,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n3",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "Loop body"
        },
        {
          "source": "n11",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n10",
          "target": "n11",
          "label": "True"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n8",
          "label": "Iterate"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n12",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n8",
          "target": "n12"
        }
      ]
    },
    {
      "name": "Flash_SaveUserConfig",
      "parameters": [
        "const user_config_t *cfg"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "void Flash_SaveUserConfig(const user_config_t *cfg)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1455,
            "column": 53
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1527,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (!cfg)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1456,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1456,
            "column": 14
          }
        },
        {
          "id": "n4",
          "kind": "conditional",
          "label": "if (cfg->user_id >= MAX_USER_CONFIG_COUNT)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1459,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1459,
            "column": 47
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "Flash_Unlock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1462,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "uint32_t flash_address = FLASH_USER_BASE_ADDR + (cfg->user_id * USER_CONFIG_FLASH_SIZE);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1465,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "flash_address = (flash_address + 7) & ~7;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1466,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "conditional",
          "label": "if (flash_address >= FLASH_USER_END_ADDR)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1468,
            "column": 4
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1469,
            "column": 8
          }
        },
        {
          "id": "n11",
          "kind": "return",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1470,
            "column": 8
          }
        },
        {
          "id": "n12",
          "kind": "statement",
          "label": "user_config_t temp_cfg = *cfg;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1474,
            "column": 4
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "temp_cfg.crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1475,
            "column": 4
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "temp_cfg.crc = calculate_crc(&temp_cfg);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1476,
            "column": 4
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "uint32_t page_start_addr = flash_address & ~(0x800 - 1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1479,
            "column": 4
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "bool need_erase = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1482,
            "column": 4
          }
        },
        {
          "id": "n17",
          "kind": "statement",
          "label": "uint64_t *page_check_addr = (uint64_t*)page_start_addr;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1483,
            "column": 4
          }
        },
        {
          "id": "n18",
          "kind": "loop",
          "label": "for (int i = 0; i < 0x800 / 8; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1484,
            "column": 4
          }
        },
        {
          "id": "n19",
          "kind": "conditional",
          "label": "if (page_check_addr[i] != 0xFFFFFFFFFFFFFFFFULL)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1485,
            "column": 8
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "need_erase = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1486,
            "column": 12
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1487,
            "column": 12
          }
        },
        {
          "id": "n22",
          "kind": "conditional",
          "label": "if (need_erase)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1492,
            "column": 4
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "static uint64_t page_buffer[0x800 / 8];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1494,
            "column": 8
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "memcpy(page_buffer, (void*)page_start_addr, 0x800);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1497,
            "column": 8
          }
        },
        {
          "id": "n25",
          "kind": "conditional",
          "label": "if (Flash_ErasePage(page_start_addr) != FLASH_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1500,
            "column": 8
          }
        },
        {
          "id": "n26",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1501,
            "column": 12
          }
        },
        {
          "id": "n27",
          "kind": "return",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1502,
            "column": 12
          }
        },
        {
          "id": "n28",
          "kind": "statement",
          "label": "uint32_t offset_in_page = flash_address - page_start_addr;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1506,
            "column": 8
          }
        },
        {
          "id": "n29",
          "kind": "statement",
          "label": "memcpy((uint8_t*)page_buffer + offset_in_page, &temp_cfg, sizeof(user_config_t));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1507,
            "column": 8
          }
        },
        {
          "id": "n30",
          "kind": "loop",
          "label": "for (int i = 0; i < 0x800 / 8; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1510,
            "column": 8
          }
        },
        {
          "id": "n31",
          "kind": "statement",
          "label": "uint32_t write_addr = page_start_addr + i * 8;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1511,
            "column": 12
          }
        },
        {
          "id": "n32",
          "kind": "statement",
          "label": "HAL_StatusTypeDef status = HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, write_addr, page_buffer[i]);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1512,
            "column": 12
          }
        },
        {
          "id": "n33",
          "kind": "conditional",
          "label": "if (status != HAL_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1513,
            "column": 12
          }
        },
        {
          "id": "n34",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1514,
            "column": 16
          }
        },
        {
          "id": "n35",
          "kind": "return",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1515,
            "column": 16
          }
        },
        {
          "id": "n36",
          "kind": "conditional",
          "label": "if (Flash_Write64BitAligned(flash_address, &temp_cfg, sizeof(user_config_t)) != FLASH_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1520,
            "column": 8
          }
        },
        {
          "id": "n37",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1521,
            "column": 12
          }
        },
        {
          "id": "n38",
          "kind": "return",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1522,
            "column": 12
          }
        },
        {
          "id": "n39",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1526,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n4",
          "target": "n5",
          "label": "True"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n4",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "True"
        },
        {
          "source": "n11",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n12"
        },
        {
          "source": "n12",
          "target": "n13"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n19",
          "target": "n20",
          "label": "True"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n18",
          "target": "n19",
          "label": "Loop body"
        },
        {
          "source": "n21",
          "target": "n18",
          "label": "Iterate"
        },
        {
          "source": "n19",
          "target": "n18",
          "label": "Iterate"
        },
        {
          "source": "n17",
          "target": "n18"
        },
        {
          "source": "n22",
          "target": "n23",
          "label": "True"
        },
        {
          "source": "n23",
          "target": "n24"
        },
        {
          "source": "n25",
          "target": "n26",
          "label": "True"
        },
        {
          "source": "n27",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n26",
          "target": "n27"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n25",
          "target": "n28"
        },
        {
          "source": "n28",
          "target": "n29"
        },
        {
          "source": "n30",
          "target": "n31",
          "label": "Loop body"
        },
        {
          "source": "n31",
          "target": "n32"
        },
        {
          "source": "n33",
          "target": "n34",
          "label": "True"
        },
        {
          "source": "n35",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n34",
          "target": "n35"
        },
        {
          "source": "n32",
          "target": "n33"
        },
        {
          "source": "n33",
          "target": "n30",
          "label": "Iterate"
        },
        {
          "source": "n29",
          "target": "n30"
        },
        {
          "source": "n36",
          "target": "n37",
          "label": "True"
        },
        {
          "source": "n38",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n37",
          "target": "n38"
        },
        {
          "source": "n22",
          "target": "n36",
          "label": "False"
        },
        {
          "source": "n18",
          "target": "n22"
        },
        {
          "source": "n30",
          "target": "n39"
        },
        {
          "source": "n36",
          "target": "n39"
        },
        {
          "source": "n39",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Flash_EraseAllUserData",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/**\n * @brief \u64e6\u9664\u6240\u6709\u7528\u6237\u914d\u7f6e\u6570\u636e\n * @return true: \u64e6\u9664\u6210\u529f, false: \u64e6\u9664\u5931\u8d25\n */\nbool Flash_EraseAllUserData(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1534,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1557,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "Flash_Unlock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1536,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "uint32_t start_page_addr = FLASH_USER_BASE_ADDR;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1541,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "uint32_t end_addr = FLASH_USER_END_ADDR;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1542,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "uint32_t page_size = 0x800;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1543,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "bool erase_success = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1545,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "loop",
          "label": "for (uint32_t page_addr = start_page_addr; page_addr < end_addr; page_addr += page_size)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1548,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "conditional",
          "label": "if (Flash_ErasePage(page_addr) != FLASH_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1549,
            "column": 8
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "erase_success = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1550,
            "column": 12
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1551,
            "column": 12
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1555,
            "column": 4
          }
        },
        {
          "id": "n12",
          "kind": "return",
          "label": "return erase_success;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1556,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "True"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n7",
          "target": "n8",
          "label": "Loop body"
        },
        {
          "source": "n10",
          "target": "n7",
          "label": "Iterate"
        },
        {
          "source": "n8",
          "target": "n7",
          "label": "Iterate"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n11"
        },
        {
          "source": "n12",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n11",
          "target": "n12"
        }
      ]
    },
    {
      "name": "Flash_GetDefaultUserConfig",
      "parameters": [
        "user_config_t *cfg",
        "uint16_t user_id"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/**\n * @brief \u83b7\u53d6\u9ed8\u8ba4\u7528\u6237\u914d\u7f6e\n * @param cfg \u914d\u7f6e\u7ed3\u6784\u4f53\u6307\u9488\n * @param user_id \u7528\u6237ID\n */\nvoid Flash_GetDefaultUserConfig(user_config_t *cfg, uint16_t user_id)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1565,
            "column": 1
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1580,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (!cfg)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1566,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1566,
            "column": 14
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "cfg->user_id = user_id;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1569,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "cfg->open_angle = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1570,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "cfg->open_speed = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1571,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "cfg->open_or_not_flag = 1;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1572,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "memset(cfg->reserved, 0, sizeof(cfg->reserved));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1575,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "statement",
          "label": "cfg->crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1578,
            "column": 4
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "cfg->crc = calculate_crc(cfg);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1579,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n9",
          "target": "n10"
        },
        {
          "source": "n10",
          "target": "n1"
        }
      ]
    },
    {
      "name": "Flash_LoadBLEAddress",
      "parameters": [
        "uint8_t *mac_address"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/**\n * @brief \u4eceFlash\u8bfb\u53d6\u84dd\u7259\u5730\u5740\n * @param mac_address 6\u5b57\u8282MAC\u5730\u5740\u7f13\u51b2\u533a\n * @return bool true: \u8bfb\u53d6\u6210\u529f\u4e14\u5730\u5740\u6709\u6548, false: \u8bfb\u53d6\u5931\u8d25\u6216\u5730\u5740\u65e0\u6548\n */\nbool Flash_LoadBLEAddress(uint8_t *mac_address)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1587,
            "column": 49
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1634,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (!mac_address)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1588,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1588,
            "column": 22
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "ble_address_storage_t *stored_addr = (ble_address_storage_t*)BLE_ADDRESS_FLASH_ADDR;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1591,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "uint64_t *raw_data = (uint64_t*)stored_addr;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1594,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "statement",
          "label": "bool is_empty = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1595,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "statement",
          "label": "uint32_t words_to_check = (sizeof(ble_address_storage_t) + 7) / 8;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1596,
            "column": 4
          }
        },
        {
          "id": "n8",
          "kind": "loop",
          "label": "for (uint32_t i = 0; i < words_to_check; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1597,
            "column": 4
          }
        },
        {
          "id": "n9",
          "kind": "conditional",
          "label": "if (raw_data[i] != 0xFFFFFFFFFFFFFFFFULL)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1598,
            "column": 8
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "is_empty = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1599,
            "column": 12
          }
        },
        {
          "id": "n11",
          "kind": "statement",
          "label": "break;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1600,
            "column": 12
          }
        },
        {
          "id": "n12",
          "kind": "conditional",
          "label": "if (is_empty)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1603,
            "column": 4
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1603,
            "column": 18
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "ble_address_storage_t temp_storage;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1606,
            "column": 4
          }
        },
        {
          "id": "n15",
          "kind": "statement",
          "label": "memcpy(&temp_storage, stored_addr, sizeof(ble_address_storage_t));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1607,
            "column": 4
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "uint8_t crc_check = calculate_ble_address_crc(&temp_storage);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1610,
            "column": 4
          }
        },
        {
          "id": "n17",
          "kind": "conditional",
          "label": "if (crc_check != temp_storage.crc)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1611,
            "column": 4
          }
        },
        {
          "id": "n18",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1612,
            "column": 8
          }
        },
        {
          "id": "n19",
          "kind": "conditional",
          "label": "if (temp_storage.is_valid != BLE_ADDRESS_VALID_FLAG)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1616,
            "column": 4
          }
        },
        {
          "id": "n20",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1617,
            "column": 8
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "bool all_zero = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1621,
            "column": 4
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "bool all_ff = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1622,
            "column": 4
          }
        },
        {
          "id": "n23",
          "kind": "loop",
          "label": "for (int i = 0; i < 6; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1623,
            "column": 4
          }
        },
        {
          "id": "n24",
          "kind": "conditional",
          "label": "if (temp_storage.mac_address[i] != 0x00)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1624,
            "column": 8
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "all_zero = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1624,
            "column": 49
          }
        },
        {
          "id": "n26",
          "kind": "conditional",
          "label": "if (temp_storage.mac_address[i] != 0xFF)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1625,
            "column": 8
          }
        },
        {
          "id": "n27",
          "kind": "statement",
          "label": "all_ff = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1625,
            "column": 49
          }
        },
        {
          "id": "n28",
          "kind": "conditional",
          "label": "if (all_zero || all_ff)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1627,
            "column": 4
          }
        },
        {
          "id": "n29",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1628,
            "column": 8
          }
        },
        {
          "id": "n30",
          "kind": "statement",
          "label": "memcpy(mac_address, temp_storage.mac_address, 6);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1632,
            "column": 4
          }
        },
        {
          "id": "n31",
          "kind": "return",
          "label": "return true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1633,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n6",
          "target": "n7"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "True"
        },
        {
          "source": "n10",
          "target": "n11"
        },
        {
          "source": "n8",
          "target": "n9",
          "label": "Loop body"
        },
        {
          "source": "n11",
          "target": "n8",
          "label": "Iterate"
        },
        {
          "source": "n9",
          "target": "n8",
          "label": "Iterate"
        },
        {
          "source": "n7",
          "target": "n8"
        },
        {
          "source": "n12",
          "target": "n13",
          "label": "True"
        },
        {
          "source": "n8",
          "target": "n12"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n12",
          "target": "n14"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n15",
          "target": "n16"
        },
        {
          "source": "n18",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n17",
          "target": "n18",
          "label": "True"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n20",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n19",
          "target": "n20",
          "label": "True"
        },
        {
          "source": "n17",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n24",
          "target": "n25",
          "label": "True"
        },
        {
          "source": "n23",
          "target": "n24",
          "label": "Loop body"
        },
        {
          "source": "n26",
          "target": "n27",
          "label": "True"
        },
        {
          "source": "n25",
          "target": "n26"
        },
        {
          "source": "n24",
          "target": "n26"
        },
        {
          "source": "n27",
          "target": "n23",
          "label": "Iterate"
        },
        {
          "source": "n26",
          "target": "n23",
          "label": "Iterate"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n29",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n28",
          "target": "n29",
          "label": "True"
        },
        {
          "source": "n23",
          "target": "n28"
        },
        {
          "source": "n28",
          "target": "n30"
        },
        {
          "source": "n31",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n30",
          "target": "n31"
        }
      ]
    },
    {
      "name": "Flash_SaveBLEAddress",
      "parameters": [
        "const uint8_t *mac_address"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/**\n * @brief \u5411Flash\u4fdd\u5b58\u84dd\u7259\u5730\u5740\n * @param mac_address 6\u5b57\u8282MAC\u5730\u5740\n * @return bool true: \u4fdd\u5b58\u6210\u529f, false: \u4fdd\u5b58\u5931\u8d25\n */\nbool Flash_SaveBLEAddress(const uint8_t *mac_address)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1641,
            "column": 55
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1687,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "conditional",
          "label": "if (!mac_address)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1642,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1642,
            "column": 22
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "bool all_zero = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1645,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "bool all_ff = true;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1646,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "loop",
          "label": "for (int i = 0; i < 6; i++)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1647,
            "column": 4
          }
        },
        {
          "id": "n7",
          "kind": "conditional",
          "label": "if (mac_address[i] != 0x00)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1648,
            "column": 8
          }
        },
        {
          "id": "n8",
          "kind": "statement",
          "label": "all_zero = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1648,
            "column": 36
          }
        },
        {
          "id": "n9",
          "kind": "conditional",
          "label": "if (mac_address[i] != 0xFF)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1649,
            "column": 8
          }
        },
        {
          "id": "n10",
          "kind": "statement",
          "label": "all_ff = false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1649,
            "column": 36
          }
        },
        {
          "id": "n11",
          "kind": "conditional",
          "label": "if (all_zero || all_ff)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1651,
            "column": 4
          }
        },
        {
          "id": "n12",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1652,
            "column": 8
          }
        },
        {
          "id": "n13",
          "kind": "statement",
          "label": "Flash_Unlock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1656,
            "column": 4
          }
        },
        {
          "id": "n14",
          "kind": "statement",
          "label": "uint32_t page_addr = BLE_ADDRESS_FLASH_ADDR & ~(0x800 - 1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1659,
            "column": 4
          }
        },
        {
          "id": "n15",
          "kind": "conditional",
          "label": "if (Flash_ErasePage(page_addr) != FLASH_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1660,
            "column": 4
          }
        },
        {
          "id": "n16",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1661,
            "column": 8
          }
        },
        {
          "id": "n17",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1662,
            "column": 8
          }
        },
        {
          "id": "n18",
          "kind": "statement",
          "label": "ble_address_storage_t addr_storage = {0};",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1666,
            "column": 4
          }
        },
        {
          "id": "n19",
          "kind": "statement",
          "label": "memcpy(addr_storage.mac_address, mac_address, 6);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1667,
            "column": 4
          }
        },
        {
          "id": "n20",
          "kind": "statement",
          "label": "addr_storage.is_valid = BLE_ADDRESS_VALID_FLAG;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1668,
            "column": 4
          }
        },
        {
          "id": "n21",
          "kind": "statement",
          "label": "memset(addr_storage.reserved, 0, sizeof(addr_storage.reserved));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1669,
            "column": 4
          }
        },
        {
          "id": "n22",
          "kind": "statement",
          "label": "addr_storage.crc = 0;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1672,
            "column": 4
          }
        },
        {
          "id": "n23",
          "kind": "statement",
          "label": "addr_storage.crc = calculate_ble_address_crc(&addr_storage);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1673,
            "column": 4
          }
        },
        {
          "id": "n24",
          "kind": "statement",
          "label": "Flash_Status write_result = Flash_Write64BitAligned(BLE_ADDRESS_FLASH_ADDR, &addr_storage, sizeof(ble_address_storage_t));",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1676,
            "column": 4
          }
        },
        {
          "id": "n25",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1678,
            "column": 4
          }
        },
        {
          "id": "n26",
          "kind": "conditional",
          "label": "if (write_result != FLASH_OK)",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1680,
            "column": 4
          }
        },
        {
          "id": "n27",
          "kind": "return",
          "label": "return false;",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1681,
            "column": 8
          }
        },
        {
          "id": "n28",
          "kind": "statement",
          "label": "uint8_t verify_addr[6];",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1685,
            "column": 4
          }
        },
        {
          "id": "n29",
          "kind": "return",
          "label": "return Flash_LoadBLEAddress(verify_addr) && (memcmp(verify_addr, mac_address, 6) == 0);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1686,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n2",
          "target": "n3",
          "label": "True"
        },
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n2",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n7",
          "target": "n8",
          "label": "True"
        },
        {
          "source": "n6",
          "target": "n7",
          "label": "Loop body"
        },
        {
          "source": "n9",
          "target": "n10",
          "label": "True"
        },
        {
          "source": "n8",
          "target": "n9"
        },
        {
          "source": "n7",
          "target": "n9"
        },
        {
          "source": "n10",
          "target": "n6",
          "label": "Iterate"
        },
        {
          "source": "n9",
          "target": "n6",
          "label": "Iterate"
        },
        {
          "source": "n5",
          "target": "n6"
        },
        {
          "source": "n12",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n11",
          "target": "n12",
          "label": "True"
        },
        {
          "source": "n6",
          "target": "n11"
        },
        {
          "source": "n11",
          "target": "n13"
        },
        {
          "source": "n13",
          "target": "n14"
        },
        {
          "source": "n15",
          "target": "n16",
          "label": "True"
        },
        {
          "source": "n17",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n16",
          "target": "n17"
        },
        {
          "source": "n14",
          "target": "n15"
        },
        {
          "source": "n15",
          "target": "n18"
        },
        {
          "source": "n18",
          "target": "n19"
        },
        {
          "source": "n19",
          "target": "n20"
        },
        {
          "source": "n20",
          "target": "n21"
        },
        {
          "source": "n21",
          "target": "n22"
        },
        {
          "source": "n22",
          "target": "n23"
        },
        {
          "source": "n23",
          "target": "n24"
        },
        {
          "source": "n24",
          "target": "n25"
        },
        {
          "source": "n27",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n26",
          "target": "n27",
          "label": "True"
        },
        {
          "source": "n25",
          "target": "n26"
        },
        {
          "source": "n26",
          "target": "n28"
        },
        {
          "source": "n29",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n28",
          "target": "n29"
        }
      ]
    },
    {
      "name": "Flash_ClearBLEAddress",
      "parameters": [
        "void"
      ],
      "returns": null,
      "docstring": null,
      "metadata": {
        "signature": "/**\n * @brief \u6e05\u7a7aFlash\u4e2d\u7684\u84dd\u7259\u5730\u5740\n * @return bool true: \u6e05\u7a7a\u6210\u529f, false: \u6e05\u7a7a\u5931\u8d25\n */\nbool Flash_ClearBLEAddress(void)"
      },
      "nodes": [
        {
          "id": "n0",
          "kind": "start",
          "label": "Start",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1693,
            "column": 34
          }
        },
        {
          "id": "n1",
          "kind": "end",
          "label": "End",
          "metadata": {
            "reason": "function_terminator"
          },
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1704,
            "column": 0
          }
        },
        {
          "id": "n2",
          "kind": "statement",
          "label": "Flash_Unlock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1695,
            "column": 4
          }
        },
        {
          "id": "n3",
          "kind": "statement",
          "label": "uint32_t page_addr = BLE_ADDRESS_FLASH_ADDR & ~(0x800 - 1);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1698,
            "column": 4
          }
        },
        {
          "id": "n4",
          "kind": "statement",
          "label": "Flash_Status erase_result = Flash_ErasePage(page_addr);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1699,
            "column": 4
          }
        },
        {
          "id": "n5",
          "kind": "statement",
          "label": "Flash_Lock();",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1701,
            "column": 4
          }
        },
        {
          "id": "n6",
          "kind": "return",
          "label": "return (erase_result == FLASH_OK);",
          "metadata": {},
          "location": {
            "file_path": "stage1/test_code/Flash.c",
            "line": 1703,
            "column": 4
          }
        }
      ],
      "edges": [
        {
          "source": "n0",
          "target": "n2"
        },
        {
          "source": "n2",
          "target": "n3"
        },
        {
          "source": "n3",
          "target": "n4"
        },
        {
          "source": "n4",
          "target": "n5"
        },
        {
          "source": "n6",
          "target": "n1",
          "label": "Return"
        },
        {
          "source": "n5",
          "target": "n6"
        }
      ]
    }
  ]
}